# Mac mini 固定IPアドレス設定ガイド

## 🔍 現在のWi-Fiネットワーク状況
- **現在のIPアドレス**: 192.168.151.165 (DHCP自動取得)
- **ルーター（ゲートウェイ）**: 192.168.150.1
- **サブネットマスク**: 255.255.254.0
- **Wi-Fi ID**: 80:a9:97:19:db:fe
- **推奨固定IP**: 192.168.151.100

## 📋 固定IPアドレス設定手順

### 1. システム環境設定を開く
1. **Appleメニュー** → **システム環境設定** をクリック
2. **ネットワーク** アイコンをクリック

### 2. Wi-Fi接続を選択
- 左側のリストで **Wi-Fi** を選択
- 右側に「状況: 接続済み」と表示されることを確認
- 接続中のWi-Fiネットワーク名が表示されているか確認

### 3. 詳細設定を開く
1. **詳細...** ボタンをクリック
2. **TCP/IP** タブをクリック

### 4. 固定IPアドレスを設定
1. **IPv4の設定** を **「DHCPサーバを使用」** から **「手動」** に変更
2. 以下の値を入力:

```
IPアドレス:     192.168.151.100
サブネットマスク: 255.255.254.0
ルーター:       192.168.150.1
```

### 5. DNS設定（推奨）
1. **DNS** タブをクリック
2. **DNSサーバ** に以下を追加:
   ```
   8.8.8.8
   8.8.4.4
   1.1.1.1
   ```

### 6. 設定を保存
1. **OK** をクリック
2. **適用** をクリック
3. 必要に応じて管理者パスワードを入力

## ⚠️ 注意事項

### IPアドレス選択のコツ
- **192.168.151.100** を推奨（現在の範囲内で安全）
- 他のデバイスと重複しないIPを選ぶ
- 通常 `.1` から `.10` はルーター用に予約
- `.100` 以降が一般的に安全

### 確認方法
```bash
# 設定後、新しいIPアドレスを確認
ifconfig | grep "inet " | grep -v 127.0.0.1

# ネットワーク接続テスト
ping 8.8.8.8

# ルーターとの通信確認
ping 192.168.150.1
```

## 🎯 サーバー運用時のメリット

### 固定IPアドレスの利点
1. **外部アクセス**: 常に同じIPでアクセス可能
2. **ポート転送**: ルーター設定が簡単
3. **監視システム**: IPアドレス変更によるトラブル回避
4. **SSL証明書**: 固定IPでの証明書設定が可能

### サーバーアクセス方法（設定後）
```bash
# ローカルネットワーク内から
http://192.168.151.100:8080

# 外部アクセス（ポート転送設定後）
http://your-domain.com:8080
```

## 🔧 トラブルシューティング

### 接続できない場合
1. **ネットワーク設定を確認**
   ```bash
   # ネットワーク状態確認
   networksetup -listallnetworkservices
   networksetup -getinfo "Wi-Fi"
   ```

2. **DHCPに一時的に戻す**
   - システム環境設定 → ネットワーク
   - IPv4の設定を「DHCPサーバを使用」に戻す

3. **ネットワークサービス再起動**
   ```bash
   sudo dscacheutil -flushcache
   sudo killall -HUP mDNSResponder
   ```

### 設定値の確認
```bash
# 現在のネットワーク設定確認
scutil --nwi
route -n get default
```

## 📝 設定完了チェックリスト

- [ ] 固定IPアドレス設定完了
- [ ] DNS設定完了
- [ ] ネットワーク接続確認
- [ ] サーバーアクセステスト
- [ ] 外部アクセス準備（ポート転送等）

設定完了後は、新しいIPアドレスでサーバーにアクセスできるようになります！
